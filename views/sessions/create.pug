extends ../layout

block content
  h1 Create a Session

  ul
    li: a(href='/sessions') Manage Sessions

  form(action='/sessions/create', method="POST")
    div.form-group
      label.control-label(for='input-start-date-time') Date
      input#input-start-date-time.form-control(type='datetime-local', name='startDateTime' required=true placeholder='' value='')

    div.form-group
      label.control-label Blocks
      div#session-blocks-input-container


    div.form-group.button-list
      button.btn.btn-primary(type='submit') Save
      a.btn.btn-default(href='/sessions') Cancel

    div.invisible
      input#session-blocks-hidden-data(type='hidden' name='sessionBlocksHiddenData' value=session ? session.getBlocksJSON() : '')

      input#activity-options-data(type='hidden' value=session ? session.getActivityOptionsJSON() : '')

      input#session-start-data(type='hidden' value=session.startDateTime)

    div.form-group
      if  errors && errors.length
        div.alert.alert-danger
          ul
            each error in errors
              li !{error.msg} 

block scripts
  script(src='/scripts/handle-session-block-inputs.js')
  script(src='/scripts/handle-input-timezones.js')